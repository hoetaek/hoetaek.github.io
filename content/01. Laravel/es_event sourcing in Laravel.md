# 1장 이벤트 중심 설계
action이란 business-related class이다

action들로 이루어진 action은 굉장히 커질 수 있다  
action들을 등록(register)함으로써 해결할 수 있다  
더 많은 자유와 유연함을 제공할 것이다

event-driven system은 두가지로 이루어져있다

1. event bus
2. events

이벤트 중심 설계는 종속적인 관계(함수, 메서드, 액션 등)를 부작용(side effect)로 변경한다.

# 2장 이벤트 버스이벤트 버스는 event-driven system의 척추(핵심)에 해당한다

모든 listener와 그 listener가 어떤 event를 다루는지(handle)를 모두 알고 있다

event bus는 다음과 같은 것을 할 수 있다

1. 이벤트를 비동기적으로 다룰 수 있다
2. 미들웨어를 지원하여 이벤트를 dispatch할 수 있다
3. 간단한 callable 객체 말고도 다른 listener도 다룰 수 있다

# 3장 이벤트이벤트란?

- 시스템에 무언가 발생했다!
- listener에게 broadcast하는 것으로서 우리 프로그램에 국한되어 있지 않다. 바깥 세상의 이벤트를 broadcast한 것도 이벤트다

Event-Carried State Transfer 원칙

- 이벤트는 유용한 정보를 포함한다

event에 데이터를 포함시킬 때 model을 보내는 것과 id만 보내는 것. 무엇을 선호해야 할까?

1. in-memory라면 둘 다!
2. 여러 서비스에 메시지를 보내야한다면? model을 보내면 메모리 낭비에 부딪힐 것이다

event를 어떻게 serialize할 것인가? 그것이 event sourcing이다  
모든 이벤트를 db나 디스크에 저장하면 생기는 이점

1. 모든 이벤트의 로그에 접근할 수 있다
2. 이벤트를 활용하는 것이 아니라 이벤트 자체가 중심 원리가 된다

event stream이란?

- 시간 순서대로 저장된 이벤트의 목록
- 이것을 이용하면 예시에 나오는 cart를 rebuild할 수 있다
- 그에 비해서 crud는 이미 있는 정보를 덮어쓰게 된다

# 4장 모델링본래 crud 프로그램을 설게할 때 우리는 데이터 스키마를 생각하고는 했다

하지만 사람은 보통 명사로만 생각하지 않고 동사도 그만큼 중요하다  
Cart, CartItem과 같은 model은 이벤트의 side effect이다  
event가 source of truth(단일 진실 공급원 - 한 곳에서만 통제하는 것)이 된다

eventstorming은 브레인스토밍 기법 중 하나이다  
보통 클라이언트와 같이 비기술적인 대상과 함께 다이어그램을 만들 때 사용할 수 있다

# 5장 저장과 이벤트 프로젝팅

6장 프로젝터 파고들기

### ChatGPT 요약

이 장에서는 이벤트 소싱 시스템의 핵심 기능 중 하나인 프로젝터에 대해 논의합니다. 프로젝터는 이벤트를 기반으로 데이터를 데이터베이스에 '프로젝트'하는 역할을 합니다. 저자는 이벤트 소싱을 사용함으로써 얻는 유연성과 시간에 관한 질문에 대응할 수 있는 능력을 강조합니다. 예를 들어, 고객이 결제 시간을 분석하고 싶어 할 때, 기존의 CRUD 시스템에서는 이러한 데이터가 누락될 수 있지만, 이벤트 소싱 시스템에서는 모든 이벤트가 시간순으로 기록되므로 이러한 분석이 가능합니다.

저자는 두 가지 방법으로 이러한 분석을 수행하는 방법을 설명합니다: 기존 프로젝션에 필드를 추가하는 방법과 전용 프로젝션을 만드는 방법. 첫 번째 방법에서는 Cart 프로젝션에 결제 날짜 필드를 추가하고, 이벤트가 발생한 시간을 기록합니다. 두 번째 방법에서는 CartDuration이라는 새로운 프로젝션을 만들어 카트의 활성화 시간을 추적합니다.

프로젝터의 테스트에 대해서도 논의합니다. 프로젝터는 일반적으로 데이터를 이벤트에서 프로젝션으로 이동하는 간단한 작업을 수행하며, 이 과정은 테스트를 통해 검증됩니다.

마지막으로, 저자는 이벤트 소싱 시스템 사용 시 주의해야 할 사항들을 언급합니다. 이벤트 재생에 시간이 많이 걸릴 수 있으며, 이벤트 자체에 어떤 데이터를 저장할지에 대한 결정이 중요하다는 것입니다. 이벤트를 변경하는 것은 어렵고, 프로젝션을 변경하는 것은 상대적으로 쉽다는 점을 강조합니다. 전반적으로, 이벤트 소싱 시스템은 많은 가치를 제공하지만, 사용 시 몇 가지 어려운 문제도 해결해야 한다는 점을 지적합니다.

---

## 새로운 테이터를 처리해야 하는 경우 (또는 분석 자료가 필요한 경우)

1. 기존 프로젝션에 필드 추가

- 프로덕션에 배포가 된 이후에 프로젝션에 새 필드를 추가해도, 이벤트 재생을 통해 배포 이전의 데이터까지 채울 수 있다.

← 모델에 속성(필드)를 추가하면 이미 기록된 Raw에는 특정값을 임의로 넣거나 Null 이 들어가게 된다.

- 추가된 필드가 기록될 수 있도록 프로젝터에도 반영을 해야 한다.

1. 새로운 프로젝션 생성

- 프로젝션에 맞는 마이그레이션과 프로젝터 구현

## 이벤트 재생

- 새로운 데이터를 처리하기 위해 프로젝터에서 이벤트 재생
- `php artisan event-sourcing:replay "App\\Cart\\Projectors\\CartProjector"`

![image.png](data:image/png;base64,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)  
주의사항

- 이벤트 재생에 시간이 많이 소요될 수 있다.
- 프로젝션을 변경하는 것은 쉽지만 이벤트를 변경하는 것이 매우 어렵다.  
   → 이벤트에 어떤 데이터를 저장할 것인지 정하는 것이 중요하다.

> events are the only source of truth  
> projections are only a side effect

# 질문

1. EloquentStoredEvent model은 어떤식으로 db 테이블을 관리하는가? 원리가 궁금하네요

# CQRS

- cqrs는 write하는 것과 query한 것을 구분한 것이다
- cqrs로 다른 시스템을 만들 수 있다. 하지만 이벤트 소싱을 cqrs외 다른 방법으로 구현할 수 없다
- write란 commend read란 query에 해당한다

# Sagas

- reactor안에서 하나의 통째 일로 처리하는 복잡한 프로세스
- 하나의 메소드가 일을 처리하면 다른 메소드를 실행시키는 이벤트를 발생시킨다

## Event versioning

```
use Spatie\EventSourcing\Attribres\EventSerializer;
Spatie\EventSourcing\Attribres\EventVersion;

#[EventVersion(2),
EventSerializer(CartCheckedOutSerializer::class]
class CartCheckOut extends ShouldBeStored
{
    ...
}
```

- Attributes를 이용해서 versioning을 함
- Serializer를 통해서 version에 따라 속성을 추가시킴
- event versioning 처음부터 필요하지 않도록 하는 게 좋습니다

- 처음부터 값을 이벤트에 저장하기

```
$event→created_at > ‘2020-01-01’ ? 0.12 : 0.06
```

대신에

```
$event→shippingVatPercentage
```

## Microservice

- Microservice와 event bus는 central message bus라는 점에서 비슷함
- tradeoff - availability를 높이기 위해 수평적 확장과 consistency
- consistency가 깨지는 것을 막기보다 발생한 사실을 빠르게 인지를 하고 대처하는 것이 더 나음

## Partial Event Sourcing

- 책에서는 Product의 정보를 이벤트에 저장했다. 우리는 벌점 시스템을 만들 때 User 정보를 이벤트에 저장하면 될까?
- CRUD와 event-sourcing은 서로 event를 통해 소통한다

## Worth Noting

- 이름을 지을 때 책과 다르게 하기를 조언하고 있습니다
- suffix projections and not the aggregate root
  - Cart는 aggregate root
  - CartProjection은 projection 이름
  - 이름 collision(충돌) 막기 위해서
